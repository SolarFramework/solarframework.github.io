<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Solar: SolAR::MODULES::OPENCV::SolARPoseFinderFrom2D2DOpencv Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Solar
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_sol_a_r.html">SolAR</a></li><li class="navelem"><b>MODULES</b></li><li class="navelem"><a class="el" href="namespace_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v.html">OPENCV</a></li><li class="navelem"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv.html">SolARPoseFinderFrom2D2DOpencv</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SolAR::MODULES::OPENCV::SolARPoseFinderFrom2D2DOpencv Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><b>Finds the camera pose based on a 2D-2D points correspondences between two images.</b> <code>UUID: 52babb5e-9d33-11e8-98d0-529269fb1459</code>  
 <a href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_sol_a_r_pose_finder_from2_d2_d_opencv_8h_source.html">SolARPoseFinderFrom2D2DOpencv.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SolAR::MODULES::OPENCV::SolARPoseFinderFrom2D2DOpencv:</div>
<div class="dyncontent">
<div class="center"><img src="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv__inherit__graph.png" border="0" usemap="#_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv_inherit__map" alt="Inheritance graph"/></div>
<map name="_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv_inherit__map" id="_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv_inherit__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for SolAR::MODULES::OPENCV::SolARPoseFinderFrom2D2DOpencv:</div>
<div class="dyncontent">
<div class="center"><img src="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv__coll__graph.png" border="0" usemap="#_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv_coll__map" alt="Collaboration graph"/></div>
<map name="_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv_coll__map" id="_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv_coll__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae6dfb836b6a5e5a703c233ad61b62d3d"><td class="memItemLeft" align="right" valign="top"><a id="ae6dfb836b6a5e5a703c233ad61b62d3d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv.html#ae6dfb836b6a5e5a703c233ad61b62d3d">SolARPoseFinderFrom2D2DOpencv</a> ()</td></tr>
<tr class="memdesc:ae6dfb836b6a5e5a703c233ad61b62d3d"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv.html" title="Finds the camera pose based on a 2D-2D points correspondences between two images. UUID: 52babb5e-9d33...">SolARPoseFinderFrom2D2DOpencv</a> constructor;. <br /></td></tr>
<tr class="separator:ae6dfb836b6a5e5a703c233ad61b62d3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3bed9a54b60edf11ab6320233e5d4c8"><td class="memItemLeft" align="right" valign="top"><a id="ac3bed9a54b60edf11ab6320233e5d4c8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv.html#ac3bed9a54b60edf11ab6320233e5d4c8">~SolARPoseFinderFrom2D2DOpencv</a> () override</td></tr>
<tr class="memdesc:ac3bed9a54b60edf11ab6320233e5d4c8"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv.html" title="Finds the camera pose based on a 2D-2D points correspondences between two images. UUID: 52babb5e-9d33...">SolARPoseFinderFrom2D2DOpencv</a> destructor;. <br /></td></tr>
<tr class="separator:ac3bed9a54b60edf11ab6320233e5d4c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a470e419f82cada0d31378430fb7279c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv.html#a470e419f82cada0d31378430fb7279c2">setCameraParameters</a> (const CamCalibration &amp;intrinsicParams, const CamDistortion &amp;distorsionParams) override</td></tr>
<tr class="memdesc:a470e419f82cada0d31378430fb7279c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">this method is used to set intrinsic parameters and distorsion of the camera  <a href="#a470e419f82cada0d31378430fb7279c2">More...</a><br /></td></tr>
<tr class="separator:a470e419f82cada0d31378430fb7279c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97c815fd0527d7b3d704eb19d9a4d0c9"><td class="memItemLeft" align="right" valign="top">FrameworkReturnCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv.html#a97c815fd0527d7b3d704eb19d9a4d0c9">estimate</a> (const std::vector&lt; Point2Df &gt; &amp;matchedPointsView1, const std::vector&lt; Point2Df &gt; &amp;matchedPointsView2, const Transform3Df &amp;poseView1, Transform3Df &amp;poseView2, std::vector&lt; DescriptorMatch &gt; &amp;inlierMatches) override</td></tr>
<tr class="memdesc:a97c815fd0527d7b3d704eb19d9a4d0c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimates camera pose from a set of 2D points of the first image which match with a set of 2D points of the second image.  <a href="#a97c815fd0527d7b3d704eb19d9a4d0c9">More...</a><br /></td></tr>
<tr class="separator:a97c815fd0527d7b3d704eb19d9a4d0c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea830627d13cef3e8b9877eb4a075feb"><td class="memItemLeft" align="right" valign="top">FrameworkReturnCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv.html#aea830627d13cef3e8b9877eb4a075feb">estimate</a> (const std::vector&lt; Keypoint &gt; &amp;matchedPointsView1, const std::vector&lt; Keypoint &gt; &amp;matchedPointsView2, const Transform3Df &amp;poseView1, Transform3Df &amp;poseView2, std::vector&lt; DescriptorMatch &gt; &amp;inlierMatches) override</td></tr>
<tr class="memdesc:aea830627d13cef3e8b9877eb4a075feb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimates camera pose from a set of keypoints of the first image which match with a set of keypoints of the second image.  <a href="#aea830627d13cef3e8b9877eb4a075feb">More...</a><br /></td></tr>
<tr class="separator:aea830627d13cef3e8b9877eb4a075feb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3eaa2c81d191f78c6af959d653735a5"><td class="memItemLeft" align="right" valign="top"><a id="ac3eaa2c81d191f78c6af959d653735a5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>unloadComponent</b> () override final</td></tr>
<tr class="separator:ac3eaa2c81d191f78c6af959d653735a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><b>Finds the camera pose based on a 2D-2D points correspondences between two images.</b> <code>UUID: 52babb5e-9d33-11e8-98d0-529269fb1459</code> </p>
<p>This component first compute the essential Matrix between the two images, and then estimate the pose of the second camera (position and orientation of the camera defined in the world coordinate system) knowing the pose of the first camera. To do so, the component needs to know the intrinsic parameter of the camera. During the essential matrix estimation, the OpenCV method filters the matches based on a RANSAC approach by removing those that are to distant to the epipolar line. The estimation of the pose of the second camera is based on the recoverPose method of OpenCV which decomposes the essential matrix and selects among the four solutions the one that have the most important number of 3D points in front of the camera (cheirality check). </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a97c815fd0527d7b3d704eb19d9a4d0c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97c815fd0527d7b3d704eb19d9a4d0c9">&#9670;&nbsp;</a></span>estimate() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FrameworkReturnCode SolAR::MODULES::OPENCV::SolARPoseFinderFrom2D2DOpencv::estimate </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; Point2Df &gt; &amp;&#160;</td>
          <td class="paramname"><em>matchedPointsView1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; Point2Df &gt; &amp;&#160;</td>
          <td class="paramname"><em>matchedPointsView2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Transform3Df &amp;&#160;</td>
          <td class="paramname"><em>poseView1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Transform3Df &amp;&#160;</td>
          <td class="paramname"><em>poseView2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; DescriptorMatch &gt; &amp;&#160;</td>
          <td class="paramname"><em>inlierMatches</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Estimates camera pose from a set of 2D points of the first image which match with a set of 2D points of the second image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pointsView1,Set</td><td>of 2D points seen in view 1. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pointsView2,Set</td><td>of 2D points seen in view 2 and matching with the 2D points of the view 1. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">poseView1,Camera</td><td>pose (3D transform of the camera of the view1 defined in world corrdinate system). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">poseView2,Camera</td><td>pose (3D transform of the camera of the view2 defined in world corrdinate system). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aea830627d13cef3e8b9877eb4a075feb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea830627d13cef3e8b9877eb4a075feb">&#9670;&nbsp;</a></span>estimate() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FrameworkReturnCode SolAR::MODULES::OPENCV::SolARPoseFinderFrom2D2DOpencv::estimate </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; Keypoint &gt; &amp;&#160;</td>
          <td class="paramname"><em>matchedPointsView1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; Keypoint &gt; &amp;&#160;</td>
          <td class="paramname"><em>matchedPointsView2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Transform3Df &amp;&#160;</td>
          <td class="paramname"><em>poseView1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Transform3Df &amp;&#160;</td>
          <td class="paramname"><em>poseView2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; DescriptorMatch &gt; &amp;&#160;</td>
          <td class="paramname"><em>inlierMatches</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Estimates camera pose from a set of keypoints of the first image which match with a set of keypoints of the second image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pointsView1,Set</td><td>of keypoints seen in view 1. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pointsView2,Set</td><td>of keypoints seen in view 2 and matching with the 2D points of the view 1. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">poseView1,Camera</td><td>pose (3D transform of the camera of the view1 defined in world corrdinate system). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">poseView2,Camera</td><td>pose (3D transform of the camera of the view2 defined in world corrdinate system). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a470e419f82cada0d31378430fb7279c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a470e419f82cada0d31378430fb7279c2">&#9670;&nbsp;</a></span>setCameraParameters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SolAR::MODULES::OPENCV::SolARPoseFinderFrom2D2DOpencv::setCameraParameters </td>
          <td>(</td>
          <td class="paramtype">const CamCalibration &amp;&#160;</td>
          <td class="paramname"><em>intrinsicParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const CamDistortion &amp;&#160;</td>
          <td class="paramname"><em>distorsionParams</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>this method is used to set intrinsic parameters and distorsion of the camera </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Camera</td><td>calibration matrix parameters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Camera</td><td>distorsion parameters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>SolARModuleOpenCV/interfaces/<a class="el" href="_sol_a_r_pose_finder_from2_d2_d_opencv_8h_source.html">SolARPoseFinderFrom2D2DOpencv.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
