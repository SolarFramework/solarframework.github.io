<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Solar: SolAR::MODULES::OPENCV::SolARPoseFinderFrom2D2DOpencv Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Solar
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_sol_a_r.html">SolAR</a></li><li class="navelem"><b>MODULES</b></li><li class="navelem"><a class="el" href="namespace_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v.html">OPENCV</a></li><li class="navelem"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv.html">SolARPoseFinderFrom2D2DOpencv</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">SolAR::MODULES::OPENCV::SolARPoseFinderFrom2D2DOpencv Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><b>Finds the camera pose based on a 2D-2D points correspondences between two images.</b> <code>UUID: 52babb5e-9d33-11e8-98d0-529269fb1459</code>  
 <a href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_sol_a_r_pose_finder_from2_d2_d_opencv_8h_source.html">SolARPoseFinderFrom2D2DOpencv.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SolAR::MODULES::OPENCV::SolARPoseFinderFrom2D2DOpencv:</div>
<div class="dyncontent">
<div class="center"><img src="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv__inherit__graph.png" border="0" usemap="#a_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv_inherit__map" alt="Inheritance graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for SolAR::MODULES::OPENCV::SolARPoseFinderFrom2D2DOpencv:</div>
<div class="dyncontent">
<div class="center"><img src="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv__coll__graph.png" border="0" usemap="#a_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae6dfb836b6a5e5a703c233ad61b62d3d"><td class="memItemLeft" align="right" valign="top"><a id="ae6dfb836b6a5e5a703c233ad61b62d3d" name="ae6dfb836b6a5e5a703c233ad61b62d3d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>SolARPoseFinderFrom2D2DOpencv</b> ()</td></tr>
<tr class="memdesc:ae6dfb836b6a5e5a703c233ad61b62d3d"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv.html" title="Finds the camera pose based on a 2D-2D points correspondences between two images. UUID: 52babb5e-9d33...">SolARPoseFinderFrom2D2DOpencv</a> constructor;. <br /></td></tr>
<tr class="separator:ae6dfb836b6a5e5a703c233ad61b62d3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3bed9a54b60edf11ab6320233e5d4c8"><td class="memItemLeft" align="right" valign="top"><a id="ac3bed9a54b60edf11ab6320233e5d4c8" name="ac3bed9a54b60edf11ab6320233e5d4c8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>~SolARPoseFinderFrom2D2DOpencv</b> () override</td></tr>
<tr class="memdesc:ac3bed9a54b60edf11ab6320233e5d4c8"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv.html" title="Finds the camera pose based on a 2D-2D points correspondences between two images. UUID: 52babb5e-9d33...">SolARPoseFinderFrom2D2DOpencv</a> destructor;. <br /></td></tr>
<tr class="separator:ac3bed9a54b60edf11ab6320233e5d4c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50f148914140fe5c013e6244feb303f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv.html#a50f148914140fe5c013e6244feb303f0">setCameraParameters</a> (const datastructure::CamCalibration &amp;intrinsicParams, const datastructure::CamDistortion &amp;distorsionParams) override</td></tr>
<tr class="memdesc:a50f148914140fe5c013e6244feb303f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">this method is used to set intrinsic parameters and distorsion of the camera  <a href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv.html#a50f148914140fe5c013e6244feb303f0">More...</a><br /></td></tr>
<tr class="separator:a50f148914140fe5c013e6244feb303f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca115a655f96ab80c468dcda93a35a80"><td class="memItemLeft" align="right" valign="top">FrameworkReturnCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv.html#aca115a655f96ab80c468dcda93a35a80">estimate</a> (const std::vector&lt; datastructure::Point2Df &gt; &amp;matchedPointsView1, const std::vector&lt; datastructure::Point2Df &gt; &amp;matchedPointsView2, const datastructure::Transform3Df &amp;poseView1, datastructure::Transform3Df &amp;poseView2, std::vector&lt; datastructure::DescriptorMatch &gt; &amp;inlierMatches) override</td></tr>
<tr class="memdesc:aca115a655f96ab80c468dcda93a35a80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimates camera pose from a set of 2D points of the first image which match with a set of 2D points of the second image.  <a href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv.html#aca115a655f96ab80c468dcda93a35a80">More...</a><br /></td></tr>
<tr class="separator:aca115a655f96ab80c468dcda93a35a80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4000d680c2cf5b713e2c5b041f88add"><td class="memItemLeft" align="right" valign="top">FrameworkReturnCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv.html#ae4000d680c2cf5b713e2c5b041f88add">estimate</a> (const std::vector&lt; datastructure::Keypoint &gt; &amp;matchedPointsView1, const std::vector&lt; datastructure::Keypoint &gt; &amp;matchedPointsView2, const datastructure::Transform3Df &amp;poseView1, datastructure::Transform3Df &amp;poseView2, std::vector&lt; datastructure::DescriptorMatch &gt; &amp;inlierMatches) override</td></tr>
<tr class="memdesc:ae4000d680c2cf5b713e2c5b041f88add"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimates camera pose from a set of keypoints of the first image which match with a set of keypoints of the second image.  <a href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_o_p_e_n_c_v_1_1_sol_a_r_pose_finder_from2_d2_d_opencv.html#ae4000d680c2cf5b713e2c5b041f88add">More...</a><br /></td></tr>
<tr class="separator:ae4000d680c2cf5b713e2c5b041f88add"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3eaa2c81d191f78c6af959d653735a5"><td class="memItemLeft" align="right" valign="top"><a id="ac3eaa2c81d191f78c6af959d653735a5" name="ac3eaa2c81d191f78c6af959d653735a5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>unloadComponent</b> () override final</td></tr>
<tr class="separator:ac3eaa2c81d191f78c6af959d653735a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p ><b>Finds the camera pose based on a 2D-2D points correspondences between two images.</b> <code>UUID: 52babb5e-9d33-11e8-98d0-529269fb1459</code> </p>
<p >This component first compute the essential Matrix between the two images, and then estimate the pose of the second camera (position and orientation of the camera defined in the world coordinate system) knowing the pose of the first camera. To do so, the component needs to know the intrinsic parameter of the camera. During the essential matrix estimation, the OpenCV method filters the matches based on a RANSAC approach by removing those that are to distant to the epipolar line. The estimation of the pose of the second camera is based on the recoverPose method of OpenCV which decomposes the essential matrix and selects among the four solutions the one that have the most important number of 3D points in front of the camera (cheirality check).</p>
<dl class="params">
<dt>Properties </dt>
<dd><table class="params">
<tr>
<td class="paramname" rowspan="2" valign="top">outlierDistanceRatio  </td><td>here we are using a RANSAC method to remove outlier.<br  />
 This attribute is the ratio between the maximum distance in pixels between source points and the maximum distance in pixels to the epipolar line for which point is considered as a outlier.<br  />
 The higher is this ratio, the more you will keep inliers to estimate your 2D transform, but the less this estimation will be correct.<br  />
 By default, this value is set to the one proposed by [Snavely07 4.1]<br  />
   </td></tr>
<tr>
<td><b>type</b>: float; <b>range</b> : [0..MAX FLOAT]; <b>default</b>: 0.006f   </td></tr>
<tr>
<td class="paramname" rowspan="2" valign="top">outlierDistanceRatio  </td><td>the probability that the algorithm produces a useful result   </td></tr>
<tr>
<td><b>type</b>: float; <b>range</b> : [0..1]; <b>default</b>: 0.99f   </td></tr>
</table>
</dd>
</dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ae4000d680c2cf5b713e2c5b041f88add" name="ae4000d680c2cf5b713e2c5b041f88add"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4000d680c2cf5b713e2c5b041f88add">&#9670;&nbsp;</a></span>estimate() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FrameworkReturnCode SolAR::MODULES::OPENCV::SolARPoseFinderFrom2D2DOpencv::estimate </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; datastructure::Keypoint &gt; &amp;&#160;</td>
          <td class="paramname"><em>matchedPointsView1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; datastructure::Keypoint &gt; &amp;&#160;</td>
          <td class="paramname"><em>matchedPointsView2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const datastructure::Transform3Df &amp;&#160;</td>
          <td class="paramname"><em>poseView1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">datastructure::Transform3Df &amp;&#160;</td>
          <td class="paramname"><em>poseView2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; datastructure::DescriptorMatch &gt; &amp;&#160;</td>
          <td class="paramname"><em>inlierMatches</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Estimates camera pose from a set of keypoints of the first image which match with a set of keypoints of the second image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pointsView1,Set</td><td>of keypoints seen in view 1. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pointsView2,Set</td><td>of keypoints seen in view 2 and matching with the 2D points of the view 1. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">poseView1,Camera</td><td>pose (3D transform of the camera of the view1 defined in world corrdinate system). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">poseView2,Camera</td><td>pose (3D transform of the camera of the view2 defined in world corrdinate system). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">[in|out]</td><td>inlierMatches, a vector of matches that will be used for the pose estimation. This vector wll be updates as some input matches will be considered as outliers. If this vector is empty, we consider that the ith point of pointsView1 matches with the ith point of pointsView2. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aca115a655f96ab80c468dcda93a35a80" name="aca115a655f96ab80c468dcda93a35a80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca115a655f96ab80c468dcda93a35a80">&#9670;&nbsp;</a></span>estimate() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FrameworkReturnCode SolAR::MODULES::OPENCV::SolARPoseFinderFrom2D2DOpencv::estimate </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; datastructure::Point2Df &gt; &amp;&#160;</td>
          <td class="paramname"><em>matchedPointsView1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; datastructure::Point2Df &gt; &amp;&#160;</td>
          <td class="paramname"><em>matchedPointsView2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const datastructure::Transform3Df &amp;&#160;</td>
          <td class="paramname"><em>poseView1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">datastructure::Transform3Df &amp;&#160;</td>
          <td class="paramname"><em>poseView2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; datastructure::DescriptorMatch &gt; &amp;&#160;</td>
          <td class="paramname"><em>inlierMatches</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Estimates camera pose from a set of 2D points of the first image which match with a set of 2D points of the second image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pointsView1,Set</td><td>of 2D points seen in view 1. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pointsView2,Set</td><td>of 2D points seen in view 2 and matching with the 2D points of the view 1. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">poseView1,Camera</td><td>pose (3D transform of the camera of the view1 defined in world corrdinate system). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">poseView2,Camera</td><td>pose (3D transform of the camera of the view2 defined in world corrdinate system). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">[in|out]</td><td>inlierMatches, a vector of matches that will be used for the pose estimation. This vector wll be updates as some input matches will be considered as outliers. If this vector is empty, we consider that the ith point of pointsView1 matches with the ith point of pointsView2. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a50f148914140fe5c013e6244feb303f0" name="a50f148914140fe5c013e6244feb303f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50f148914140fe5c013e6244feb303f0">&#9670;&nbsp;</a></span>setCameraParameters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SolAR::MODULES::OPENCV::SolARPoseFinderFrom2D2DOpencv::setCameraParameters </td>
          <td>(</td>
          <td class="paramtype">const datastructure::CamCalibration &amp;&#160;</td>
          <td class="paramname"><em>intrinsicParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const datastructure::CamDistortion &amp;&#160;</td>
          <td class="paramname"><em>distorsionParams</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>this method is used to set intrinsic parameters and distorsion of the camera </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Camera</td><td>calibration matrix parameters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Camera</td><td>distorsion parameters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>SolARModuleOpenCV/interfaces/<a class="el" href="_sol_a_r_pose_finder_from2_d2_d_opencv_8h_source.html">SolARPoseFinderFrom2D2DOpencv.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
