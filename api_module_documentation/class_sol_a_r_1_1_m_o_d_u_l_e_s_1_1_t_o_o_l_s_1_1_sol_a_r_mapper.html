<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Solar: SolAR::MODULES::TOOLS::SolARMapper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Solar
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_sol_a_r.html">SolAR</a></li><li class="navelem"><b>MODULES</b></li><li class="navelem"><b>TOOLS</b></li><li class="navelem"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_t_o_o_l_s_1_1_sol_a_r_mapper.html">SolARMapper</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_t_o_o_l_s_1_1_sol_a_r_mapper-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SolAR::MODULES::TOOLS::SolARMapper Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><b>Updates a point map with new triangulated 3D points.</b> <code>UUID: 8e3c926a-0861-46f7-80b2-8abb5576692c</code>  
 <a href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_t_o_o_l_s_1_1_sol_a_r_mapper.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_sol_a_r_mapper_8h_source.html">SolARMapper.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SolAR::MODULES::TOOLS::SolARMapper:</div>
<div class="dyncontent">
<div class="center"><img src="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_t_o_o_l_s_1_1_sol_a_r_mapper__inherit__graph.png" border="0" usemap="#_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_t_o_o_l_s_1_1_sol_a_r_mapper_inherit__map" alt="Inheritance graph"/></div>
<map name="_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_t_o_o_l_s_1_1_sol_a_r_mapper_inherit__map" id="_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_t_o_o_l_s_1_1_sol_a_r_mapper_inherit__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for SolAR::MODULES::TOOLS::SolARMapper:</div>
<div class="dyncontent">
<div class="center"><img src="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_t_o_o_l_s_1_1_sol_a_r_mapper__coll__graph.png" border="0" usemap="#_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_t_o_o_l_s_1_1_sol_a_r_mapper_coll__map" alt="Collaboration graph"/></div>
<map name="_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_t_o_o_l_s_1_1_sol_a_r_mapper_coll__map" id="_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_t_o_o_l_s_1_1_sol_a_r_mapper_coll__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af15da09d3647c84f0b7fc46d60a77699"><td class="memItemLeft" align="right" valign="top">virtual FrameworkReturnCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_t_o_o_l_s_1_1_sol_a_r_mapper.html#af15da09d3647c84f0b7fc46d60a77699">update</a> (SRef&lt; Map &gt; &amp;map, SRef&lt; Keyframe &gt; &amp;newKeyframe, const std::vector&lt; CloudPoint &gt; &amp;newCloud, const std::vector&lt; DescriptorMatch &gt; &amp;newPointsMatches, const std::vector&lt; DescriptorMatch &gt; &amp;existingPointsMatches) override</td></tr>
<tr class="memdesc:af15da09d3647c84f0b7fc46d60a77699"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates a point map with new triangulated 3D points. i.e. the new triangulated map points at the insertion of a new keyframe. minArg(pts3ds,intrinsics,extrinsics) = MIN_cam_i(MIN_3d_j(pts2d_j - reproje(pt3ds_j,intrinsics_i,extrinsics_i)),.  <a href="#af15da09d3647c84f0b7fc46d60a77699">More...</a><br /></td></tr>
<tr class="separator:af15da09d3647c84f0b7fc46d60a77699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf8167c8400abcd3681ea4c4fe08c07e"><td class="memItemLeft" align="right" valign="top">virtual FrameworkReturnCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_t_o_o_l_s_1_1_sol_a_r_mapper.html#acf8167c8400abcd3681ea4c4fe08c07e">update</a> (SRef&lt; Map &gt; &amp;map, SRef&lt; Keyframe &gt; &amp;newKeyframe, const std::vector&lt; CloudPoint &gt; &amp;newCloud, const std::vector&lt; std::tuple&lt; unsigned int, int, unsigned int &gt;&gt; &amp;newPointMatches) override</td></tr>
<tr class="memdesc:acf8167c8400abcd3681ea4c4fe08c07e"><td class="mdescLeft">&#160;</td><td class="mdescRight">update the current map with the new triangulated map points at the insertion of a new keyframe.  <a href="#acf8167c8400abcd3681ea4c4fe08c07e">More...</a><br /></td></tr>
<tr class="separator:acf8167c8400abcd3681ea4c4fe08c07e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d1e6a99d98434afc172fea20b6ab6a5"><td class="memItemLeft" align="right" valign="top">virtual FrameworkReturnCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_t_o_o_l_s_1_1_sol_a_r_mapper.html#a3d1e6a99d98434afc172fea20b6ab6a5">update</a> (const std::vector&lt; Transform3Df &gt; &amp;correctedPoses, const std::vector&lt; CloudPoint &gt; &amp;correctedCloud) override</td></tr>
<tr class="memdesc:a3d1e6a99d98434afc172fea20b6ab6a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">update the current map/keyframes(poses)with corrected map/keyframes(poses). i.e. the new triangulated map points at the insertion of a new keyframe. minArg(pts3ds,intrinsics,extrinsics) = MIN_cam_i(MIN_3d_j(pts2d_j - reproje(pt3ds_j,intrinsics_i,extrinsics_i)),  <a href="#a3d1e6a99d98434afc172fea20b6ab6a5">More...</a><br /></td></tr>
<tr class="separator:a3d1e6a99d98434afc172fea20b6ab6a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af668eb213056d412f8fc942a6776fdb6"><td class="memItemLeft" align="right" valign="top">virtual const std::vector&lt; SRef&lt; Keyframe &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_t_o_o_l_s_1_1_sol_a_r_mapper.html#af668eb213056d412f8fc942a6776fdb6">getKeyframes</a> () override</td></tr>
<tr class="memdesc:af668eb213056d412f8fc942a6776fdb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">return all the keyframes of the map.  <a href="#af668eb213056d412f8fc942a6776fdb6">More...</a><br /></td></tr>
<tr class="separator:af668eb213056d412f8fc942a6776fdb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a0cd4c7d949db9c06c3e2f2df5b59f7"><td class="memItemLeft" align="right" valign="top">virtual SRef&lt; Keyframe &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_t_o_o_l_s_1_1_sol_a_r_mapper.html#a5a0cd4c7d949db9c06c3e2f2df5b59f7">getKeyframe</a> (int index) override</td></tr>
<tr class="memdesc:a5a0cd4c7d949db9c06c3e2f2df5b59f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">return a keyframe  <a href="#a5a0cd4c7d949db9c06c3e2f2df5b59f7">More...</a><br /></td></tr>
<tr class="separator:a5a0cd4c7d949db9c06c3e2f2df5b59f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1b41e016027132fb494c6e8f739d272"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa1b41e016027132fb494c6e8f739d272"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_t_o_o_l_s_1_1_sol_a_r_mapper.html#aa1b41e016027132fb494c6e8f739d272">getLocalMap</a> (SRef&lt; Keyframe &gt; refKF, std::vector&lt; CloudPoint &gt; &amp;localCloudPoints) override</td></tr>
<tr class="memdesc:aa1b41e016027132fb494c6e8f739d272"><td class="mdescLeft">&#160;</td><td class="mdescRight">get local map from reference keyframe and its neighbors <br /></td></tr>
<tr class="separator:aa1b41e016027132fb494c6e8f739d272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaaefe6378345e6b6ef5d191a0d745c5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeaaefe6378345e6b6ef5d191a0d745c5"></a>
virtual SRef&lt; Map &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>getGlobalMap</b> () override</td></tr>
<tr class="separator:aeaaefe6378345e6b6ef5d191a0d745c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94800458fcd8944454e11195f43ec6d8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a94800458fcd8944454e11195f43ec6d8"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_t_o_o_l_s_1_1_sol_a_r_mapper.html#a94800458fcd8944454e11195f43ec6d8">getLocalMapIndex</a> (SRef&lt; Keyframe &gt; refKF, std::vector&lt; unsigned int &gt; &amp;idxLocalCloudPoints) override</td></tr>
<tr class="memdesc:a94800458fcd8944454e11195f43ec6d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">get index of cloud point in local map from reference keyframe and its neighbors <br /></td></tr>
<tr class="separator:a94800458fcd8944454e11195f43ec6d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a650d09b720ffc1946408ddf2a34b72"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_t_o_o_l_s_1_1_sol_a_r_mapper.html#a4a650d09b720ffc1946408ddf2a34b72">updateNeighborConnections</a> (SRef&lt; Keyframe &gt; &amp;newKeyframe, int minDis) override</td></tr>
<tr class="memdesc:a4a650d09b720ffc1946408ddf2a34b72"><td class="mdescLeft">&#160;</td><td class="mdescRight">update connections between new keyframe and neighboring keyframes.  <a href="#a4a650d09b720ffc1946408ddf2a34b72">More...</a><br /></td></tr>
<tr class="separator:a4a650d09b720ffc1946408ddf2a34b72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af80fb1a974fb543134dbfb0164314705"><td class="memItemLeft" align="right" valign="top">SRef&lt; Map &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sol_a_r_1_1_m_o_d_u_l_e_s_1_1_t_o_o_l_s_1_1_sol_a_r_mapper.html#af80fb1a974fb543134dbfb0164314705">getMap</a> ()</td></tr>
<tr class="memdesc:af80fb1a974fb543134dbfb0164314705"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the current map.  <a href="#af80fb1a974fb543134dbfb0164314705">More...</a><br /></td></tr>
<tr class="separator:af80fb1a974fb543134dbfb0164314705"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acca7b5f3b327318947e569d2352804ef"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acca7b5f3b327318947e569d2352804ef"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>unloadComponent</b> () overridefinal</td></tr>
<tr class="separator:acca7b5f3b327318947e569d2352804ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><b>Updates a point map with new triangulated 3D points.</b> <code>UUID: 8e3c926a-0861-46f7-80b2-8abb5576692c</code> </p>
<p>Store the 3D Map and keyframes. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5a0cd4c7d949db9c06c3e2f2df5b59f7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual SRef&lt;Keyframe&gt;&amp; SolAR::MODULES::TOOLS::SolARMapper::getKeyframe </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return a keyframe </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Index</td><td>of the keyframe </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af668eb213056d412f8fc942a6776fdb6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::vector&lt;SRef&lt;Keyframe&gt; &gt;&amp; SolAR::MODULES::TOOLS::SolARMapper::getKeyframes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return all the keyframes of the map. </p>
<dl class="section return"><dt>Returns</dt><dd>the keyframes of the map. </dd></dl>

</div>
</div>
<a class="anchor" id="af80fb1a974fb543134dbfb0164314705"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SRef&lt;Map&gt; SolAR::MODULES::TOOLS::SolARMapper::getMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return the current map. </p>
<dl class="section return"><dt>Returns</dt><dd>the current map. </dd></dl>

</div>
</div>
<a class="anchor" id="af15da09d3647c84f0b7fc46d60a77699"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual FrameworkReturnCode SolAR::MODULES::TOOLS::SolARMapper::update </td>
          <td>(</td>
          <td class="paramtype">SRef&lt; Map &gt; &amp;&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SRef&lt; Keyframe &gt; &amp;&#160;</td>
          <td class="paramname"><em>newKeyframe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; CloudPoint &gt; &amp;&#160;</td>
          <td class="paramname"><em>newCloud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; DescriptorMatch &gt; &amp;&#160;</td>
          <td class="paramname"><em>newPointsMatches</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; DescriptorMatch &gt; &amp;&#160;</td>
          <td class="paramname"><em>existingPointsMatches</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates a point map with new triangulated 3D points. i.e. the new triangulated map points at the insertion of a new keyframe. minArg(pts3ds,intrinsics,extrinsics) = MIN_cam_i(MIN_3d_j(pts2d_j - reproje(pt3ds_j,intrinsics_i,extrinsics_i)),. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">map</td><td>The 3D point map to update. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">newKeyframe</td><td>The new keyframe used for to triangulate the 3D points to add. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">newCloud</td><td>The new triangulated point to add to the map. Must be empty to initialize the map with the first keyframe. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">newPointsMatches</td><td>The keypoints matches for which the corresponding triangulated 3D point was not already in the map. Must be empty for the initialization of the map with the first keyframe or for the second call with the second keyframe and the first set of triangulated points. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">existingPointsMatches</td><td>The keypoints matches for which the corresponding triangulated 3D point is already in the map. Must be empty for the initialization of the map with the first keyframe or for the second call with the second keyframe and the first set of triangulated points. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FrameworkReturnCode::<em>SUCCESS if sucessful, eiher FrameworkRetunrnCode::_ERROR</em>. </dd></dl>

</div>
</div>
<a class="anchor" id="acf8167c8400abcd3681ea4c4fe08c07e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual FrameworkReturnCode SolAR::MODULES::TOOLS::SolARMapper::update </td>
          <td>(</td>
          <td class="paramtype">SRef&lt; Map &gt; &amp;&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SRef&lt; Keyframe &gt; &amp;&#160;</td>
          <td class="paramname"><em>newKeyframe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; CloudPoint &gt; &amp;&#160;</td>
          <td class="paramname"><em>newCloud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::tuple&lt; unsigned int, int, unsigned int &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>newPointMatches</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>update the current map with the new triangulated map points at the insertion of a new keyframe. </p>
<p>minArg(pts3ds,intrinsics,extrinsics) = MIN_cam_i(MIN_3d_j(pts2d_j - reproje(pt3ds_j,intrinsics_i,extrinsics_i)), </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">map</td><td>current constructed map. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">neyKeyframe</td><td>current new keyframe to insert. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">newCloud</td><td>new triangulated 3D points </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">newPointMatches</td><td>a set of tuple contains information of matches corresponding newCloudPoint. The first value is the idx of keypoint in the new keyframe. The remaining values are idx of keyframe and its keypoint. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">existingPointMatches</td><td>new detected matches from the reference keyframe and current frame. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FrameworkReturnCode::<em>SUCCESS if the map updating succeed, else FrameworkReturnCode::_ERROR</em> </dd></dl>

</div>
</div>
<a class="anchor" id="a3d1e6a99d98434afc172fea20b6ab6a5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual FrameworkReturnCode SolAR::MODULES::TOOLS::SolARMapper::update </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; Transform3Df &gt; &amp;&#160;</td>
          <td class="paramname"><em>correctedPoses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; CloudPoint &gt; &amp;&#160;</td>
          <td class="paramname"><em>correctedCloud</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>update the current map/keyframes(poses)with corrected map/keyframes(poses). i.e. the new triangulated map points at the insertion of a new keyframe. minArg(pts3ds,intrinsics,extrinsics) = MIN_cam_i(MIN_3d_j(pts2d_j - reproje(pt3ds_j,intrinsics_i,extrinsics_i)), </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">map</td><td>The 3D point map to update. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4a650d09b720ffc1946408ddf2a34b72"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void SolAR::MODULES::TOOLS::SolARMapper::updateNeighborConnections </td>
          <td>(</td>
          <td class="paramtype">SRef&lt; Keyframe &gt; &amp;&#160;</td>
          <td class="paramname"><em>newKeyframe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minDis</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>update connections between new keyframe and neighboring keyframes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>new keyframe. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">the</td><td>minimum number of common point to accept a connection. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>SolARModuleTools/interfaces/<a class="el" href="_sol_a_r_mapper_8h_source.html">SolARMapper.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
